<view class="container">
  <view class="doctor-card">
    <view class="doctor-info">
      <image class="avatar" src="{{doctor.avatar}}" mode="aspectFill"></image>
      <view class="info-text">
        <view class="name-row">
          <text class="name">{{doctor.name}}</text>
          <text class="title">{{doctor.title}}</text>
        </view>
        <view class="dept">{{doctor.department}} | {{doctor.hospital}}</view>
        <view class="tags">
          <text class="tag" wx:for="{{doctor.tags}}" wx:key="*this">{{item}}</text>
        </view>
      </view>
    </view>
    <view class="stats-row">
      <view class="stat-item">
        <text class="num">{{doctor.responseRate}}%</text>
        <text class="label">å›å¤ç‡</text>
      </view>
      <view class="stat-item">
        <text class="num">{{doctor.consultCount}}</text>
        <text class="label">æœåŠ¡äººæ¬¡</text>
      </view>
      <view class="stat-item">
        <text class="num">{{doctor.satisfaction}}</text>
        <text class="label">æ»¡æ„åº¦</text>
      </view>
    </view>
  </view>

  <view class="service-grid">
    <view class="service-item" bindtap="startTextConsult">
      <view class="icon-circle blue">ğŸ’¬</view>
      <text class="service-name">å›¾æ–‡å’¨è¯¢</text>
      <text class="service-desc">æè¿°ç—…æƒ… åŒ»ç”Ÿè§£ç­”</text>
    </view>
    <view class="service-item" bindtap="startPhoneConsult">
      <view class="icon-circle green">ğŸ“</view>
      <text class="service-name">ç”µè¯å’¨è¯¢</text>
      <text class="service-desc">å¦‚éœ€ç´§æ€¥æ²Ÿé€š</text>
    </view>
  </view>

  <view class="history-section">
    <view class="section-header">
      <text class="title">å’¨è¯¢è®°å½•</text>
      <text class="more">æŸ¥çœ‹å…¨éƒ¨ ></text>
    </view>
    
    <block wx:for="{{historyList}}" wx:key="id">
      <view class="history-card">
        <view class="card-top">
          <text class="date">{{item.date}}</text>
          <text class="status {{item.status === 'replied' ? 'done' : 'wait'}}">
            {{item.status === 'replied' ? 'å·²å›å¤' : 'å¾…å›å¤'}}
          </text>
        </view>
        <view class="question-box">
          <text class="label">é—®</text>
          <text class="content">{{item.question}}</text>
        </view>
        <view class="answer-box" wx:if="{{item.reply}}">
          <text class="label">ç­”</text>
          <text class="content">{{item.reply}}</text>
        </view>
      </view>
    </block>
  </view>
</view>